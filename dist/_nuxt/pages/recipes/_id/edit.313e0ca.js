(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{220:function(e,t,r){"use strict";r.r(t);r(35);var n=r(14),c={head:function(){return{title:"Edit Recipe"}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,n=e.params,t.prev=1,t.next=4,r.$get("/recipes/".concat(n.id));case 4:return c=t.sent,t.abrupt("return",{recipe:c});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",{recipe:[]});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},data:function(){return{recipe:{name:"",picture:"",ingredients:"",difficulty:"",prep_time:null,prep_guide:""},preview:""}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.recipe.picture=t[0],this.createImage(t[0]))},createImage:function(e){var t=new FileReader,r=this;t.onload=function(e){r.preview=e.target.result},t.readAsDataURL(e)},submitRecipe:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(data in-1!=(r=e.recipe).picture.indexOf("http://")&&delete r.picture,n={headers:{"content-type":"multipart/form-data"}},c=new FormData,r)c.append(data,r[data]);return t.prev=5,t.next=8,e.$axios.$patch("/recipes/".concat(r.id,"/"),c,n);case 8:t.sent,e.$router.push("/recipes/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}},o=r(41),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"container my-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 text-center my-3"},[r("h2",{staticClass:"mb-3 display-4 text-uppercase"},[e._v(e._s(e.recipe.name))])]),e._v(" "),r("div",{staticClass:"col-md-6 mb-4"},[e.preview?r("img",{staticClass:"img-fluid",staticStyle:{width:"400px","border-radius":"10px","box-shadow":"0 1rem 1rem rgba(0,0,0,.7)"},attrs:{src:e.preview}}):r("img",{staticClass:"img-fluid",staticStyle:{width:"400px","border-radius":"10px","box-shadow":"0 1rem 1rem rgba(0,0,0,.7)"},attrs:{src:e.recipe.picture}})]),e._v(" "),r("div",{staticClass:"col-md-4"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.submitRecipe(t)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Recipe Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.name,expression:"recipe.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.recipe.name},on:{input:function(t){t.target.composing||e.$set(e.recipe,"name",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Ingredients")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.ingredients,expression:"recipe.ingredients"}],staticClass:"form-control",attrs:{type:"text",name:"Ingredients"},domProps:{value:e.recipe.ingredients},on:{input:function(t){t.target.composing||e.$set(e.recipe,"ingredients",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Food picture")]),e._v(" "),r("input",{attrs:{type:"file"},on:{change:e.onFileChange}})]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:""}},[e._v("Difficulty")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.recipe.difficulty,expression:"recipe.difficulty"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.recipe,"difficulty",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"Easy"}},[e._v("Easy")]),e._v(" "),r("option",{attrs:{value:"Medium"}},[e._v("Medium")]),e._v(" "),r("option",{attrs:{value:"Hard"}},[e._v("Hard")])])])]),e._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[e._m(0),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.prep_time,expression:"recipe.prep_time"}],staticClass:"form-control",attrs:{type:"text",name:"Ingredients"},domProps:{value:e.recipe.prep_time},on:{input:function(t){t.target.composing||e.$set(e.recipe,"prep_time",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{attrs:{for:""}},[e._v("Preparation guide")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.recipe.prep_guide,expression:"recipe.prep_guide"}],staticClass:"form-control",attrs:{rows:"8"},domProps:{value:e.recipe.prep_guide},on:{input:function(t){t.target.composing||e.$set(e.recipe,"prep_guide",t.target.value)}}})]),e._v(" "),r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Save")])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:""}},[this._v("\n                Prep time\n                "),t("small",[this._v("(minutes)")])])}],!1,null,null,null);t.default=component.exports}}]);